# Getting Started with Shorten Url

Follow these steps to run app locally:

```shell
rvm install 2.6.3
```

```
git clone https://github.com/puneet18190/shorten-url.git
```

```
rake db:create
```

```
rake db:migrate
```

```
rails server
```

# To run test:

```
rails test
```

# Algo to generate Shorten Url

```
Use lowercase upper alphabets and digits(62 possible characters) in an array
```

```
Make encoder function which takes ID of record and return a key which further decode to get back origin ID.
```
```
Algo:

def encoder(i)
  return ALPHABET[0] if i == 0 // return first character if i=0
  s = ''
  base = ALPHABET.length // get the length of ALPHABET array
  while i > 0
    s << ALPHABET[i.modulo(base)] //take mod of i with base=length of ALPHABET array and add in string s
    i /= base
  end
  s.reverse // return the string and reverse it
end
```

```
Following decoder function to decode the key generated by encoder to get ID of record.
def decoder(s)
  i = 0
  base = ALPHABET.length
  s.each_char { |c| i = i * base + ALPHABET.index(c) }
  i
end
```

```
Shorten URL link is /s/{KEY}
```

```
Once shorten URL is hit in browser, we find the original URL from table and redirect it.
```